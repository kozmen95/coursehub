<!-- app/views/layouts/application.html.erb -->
<!DOCTYPE html>
<html>
<head>
<title>CourseHub</title>
<meta name="viewport" content="width=device-width,initial-scale=1">
<%= csrf_meta_tags %>
<%= csp_meta_tag %>
    <%= stylesheet_link_tag "tailwind", "data-turbo-track": "reload" %>
<%= stylesheet_link_tag "application", "data-turbo-track": "reload" %>
<%= javascript_importmap_tags %>
</head>
<body class="bg-grey-50 text-slate-900">
<nav class="bg-white border-b border-slate-200">
<div class="max-w-5xl mx-auto px-4 py-3 flex items-center justify-between">
<a href="/" class="font-semibold">CourseHub</a>
<div class="space-x-3">
<% if user_signed_in? %>
<span class="text-sm text-slate-600">Zalogowany: <%= current_user.email %> (<%= current_user.role %>)</span>
<%= link_to "Wyloguj", destroy_user_session_path, data: { turbo_method: :delete }, class: "text-sm text-slate-700 hover:underline" %>
<% else %>
<%= link_to "Zaloguj", new_user_session_path, class: "text-sm text-slate-700 hover:underline" %>
<%= link_to "Rejestracja", new_user_registration_path, class: "text-sm text-slate-700 hover:underline" %>
<% end %>
</div>
</div>
</nav>


<main class="max-w-5xl mx-auto px-4 py-6">
<% if notice %>
  <div class="mb-4 rounded-lg border border-emerald-300 bg-emerald-50 p-3 text-emerald-800"><%= notice %></div>
<% end %>
<% if alert %>
  <div class="mb-4 rounded-lg border border-rose-300 bg-rose-50 p-3 text-rose-800"><%= alert %></div>
<% end %>
<%= yield %>
</main>
</body>
</html>