<div class="bg-slate-800 border border-slate-700 rounded-xl shadow p-6 w-full flex flex-col justify-between hover:shadow-lg transition">
  <!-- Nagłówek -->
  <div class="mb-4">
    <h2 class="text-xl font-bold text-sky-400"><%= course.title %></h2>
    <p class="text-slate-400 text-sm mt-1"><%= truncate(course.description, length: 80) %></p>
  </div>

<!-- Szczegóły -->
<div class="space-y-2 text-slate-300 text-sm">

  <% if course.cover_image.attached? %>
    <%= image_tag course.cover_image.variant(resize_to_fill: [300, 200]), class: "rounded-md shadow" %>
  <% else %>
    <%= image_tag "default_cover.png", class: "rounded-md shadow w-[300px] h-[200px]" %>
  <% end %>
  <p>
    <span class="font-semibold">👤 Instructor:</span>
    <%= course.instructor.email %>
  </p>

  <p>
    <span class="font-semibold">👥 Capacity:</span>
    <%= course.enrollments.confirmed.count %> / <%= course.capacity %> uczestników
  </p>

  <p>
    <span class="font-semibold">💰 Price:</span>
    <%= number_to_currency(course.price_cents / 100.0, unit: "PLN") %>
  </p>

  <p>
    <span class="font-semibold">📅 Status:</span>
    <% if course.published? %>
      <span class="text-emerald-400 font-medium">Published</span>
    <% else %>
      <span class="text-rose-400 font-medium">Draft</span>
    <% end %>
  </p>
</div>

  <!-- Akcje -->
  <div class="flex flex-wrap gap-2 mt-6">
    <%= link_to "👁 Show",
      course_path(course),
      class: "flex-1 text-center rounded-lg px-6 py-2 bg-slate-700 hover:bg-slate-600 text-slate-200 font-medium transition" %>

    <% if user_signed_in? && (course.instructor == current_user || current_user.admin?) %>
      <%= link_to "✏️ Edit",
        edit_course_path(course),
        class: "flex-1 text-center rounded-lg px-6 py-2 bg-indigo-600 hover:bg-indigo-500 text-white font-medium transition" %>

      <%= link_to "🗑 Delete",
        course_path(course),
        data: { turbo_method: :delete, turbo_confirm: "Na pewno?" },
        class: "flex-1 text-center rounded-lg px-6 py-2 bg-rose-600 hover:bg-rose-500 text-white font-medium transition" %>
    <% end %>
  </div>
</div>
