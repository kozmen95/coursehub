<div class="bg-slate-800 border border-slate-700 rounded-xl shadow p-6 w-full course_card flex flex-col justify-between hover:shadow-lg transition">
  <!-- Nagłówek -->
  <div class="mb-4">
    <h2 class="text-xl font-bold text-sky-400"><%= course.title %></h2>
    <p class="text-slate-400 text-sm mt-1"><%= truncate(course.description, length: 80) %></p>
  </div>

<!-- Szczegóły -->
<div class="space-y-2 text-slate-300 text-sm">

  <% if course.cover_image.attached? %>
    <%= image_tag course.cover_image.variant(resize_to_fill: [300, 200]), class: "rounded-md shadow" %>
  <% else %>
    <%= image_tag "default_cover.png", class: "rounded-md shadow w-[300px] h-[200px]" %>
  <% end %>
  <p>
    <span class="font-semibold">👤 Instructor:</span>
    <%= course.instructor.email %>
  </p>

  <p>
    <span class="font-semibold">👥 Capacity:</span>
    <%= course.enrollments.confirmed.count %> / <%= course.capacity %> uczestników
  </p>

  <p>
    <span class="font-semibold">💰 Cena:</span>
    <%= number_to_currency(course.price_cents / 100.0,
          unit: "zł",
          separator: ",",
          delimiter: " ",
          format: "%n %u") %>
  </p>

  <p>
    <span class="font-semibold">📅 Status:</span>
    <% if course.published? %>
      <span class="text-emerald-400 font-medium">Published</span>
    <% else %>
      <span class="text-rose-400 font-medium">Draft</span>
    <% end %>
  </p>
</div>

  <!-- Akcje -->
  <div class="flex flex-wrap gap-3 mt-6">
    <%= link_to course_path(course),
        class: "flex items-center justify-center gap-2 rounded-lg px-5 py-2 bg-slate-700 hover:bg-slate-600 text-slate-100 font-medium transition" do %>
      👁 <span>Pokaż</span>
    <% end %>

    <% if user_signed_in? && (course.instructor == current_user || current_user.admin?) %>
      <%= link_to edit_course_path(course),
          class: "flex items-center justify-center gap-2 rounded-lg px-5 py-2 bg-indigo-600 hover:bg-indigo-500 text-white font-medium transition" do %>
        ✏️ <span>Edytuj</span>
      <% end %>

      <%= link_to course_path(course),
          data: { turbo_method: :delete, turbo_confirm: "Na pewno usunąć kurs?" },
          class: "flex items-center justify-center gap-2 rounded-lg px-5 py-2 bg-rose-600 hover:bg-rose-500 text-white font-medium transition" do %>
        🗑 <span>Usuń</span>
      <% end %>
    <% end %>
  </div>
</div>
